<div>
    <table id="stats_losses_table" lay-filter="stats_losses_table">
    </table>
</div>
<script type="text/html" id="stats_losses_toolbar">
    <input type="text" id="cusName" autocomplete="off" placeholder="请输入客户姓名查询" style="margin-left: 200px;">
    <a class="layui-btn  layui-btn-xs" lay-event="search">搜索</a>
</script>
<script>
    layui.use(['table'], function () {
        const table = layui.table;
        const header = [[ //表头
            {checkbox: true},
            {field: "index", title: "序号", type: "numbers", width: 80}
            ,{field: 'cusNo', title: '客户编号', width:150}
            ,{field: 'cusName', title: '客户名称', width:150}
            ,{field: 'cusRegion', title: '客户区域', width:150}
            ,{field: 'cusAddr', title: '客户地址', width:170}
            ,{field: 'cusUrl', title: '客户网站', width:220}
            ,{field: 'cusLevel', title: '客户等级', width:180}
            ,{field:'cusSatisfied',title:'客户满意度',width:180}
            ,{field: 'cusCredit', title: '信用等级'}
        ]];
        table.render({
            elem: '#stats_losses_table'
            , height: 'full-160'
            , url: 'http://localhost:8080/stats/lost-customers' //数据接口
            , page: true //开启分页
            , method: "POST"
            , toolbar: '#stats_losses_toolbar'  //添加编辑工具栏按钮
            , limit: 10
            , cols: header
        });
        table.on('toolbar(stats_losses_table)', function (obj) {
            const checkStatus = table.checkStatus(obj.config.id);
            switch (obj.event) {
                case 'search':
                    table.reload('stats_losses_table', {
                        where: {
                            cusName: $("#cusName").val()
                        },
                        page: {
                            curr: 1
                        }
                    })
                    break;
            }
        });
    });
</script>