<div>
    <table id="stats-sales-table" lay-filter="stats-sales-table">
    </table>
</div>
<script type="text/html" id="stats-sales-toolbar">
    <input type="text" id="cusName" autocomplete="off" placeholder="请输入客户姓名查询" style="margin-left: 200px;">
    <a class="layui-btn  layui-btn-xs" lay-event="search">搜索</a>
</script>
<script>
    layui.use(['table'], function () {
        const table = layui.table;
        const header = [[ //表头
            {checkbox: true},
            {field: "index", title: "序号", width: 80}
            , {field: 'cusNo', title: '客户编号', width: 150}
            , {field: 'cusName', title: '客户名称'}
            , {field: 'cusRegion', title: '客户区域', width: 150},
            {field: "transactionAmount", title: "交易总额", width: 150}
        ]];
        table.render({
            elem: '#stats-sales-table'
            , height: 'full-160'
            , url: 'http://localhost:8080/stats/customers' //数据接口
            , page: true //开启分页
            , method: "POST"
            , toolbar: '#stats-sales-toolbar'  //添加编辑工具栏按钮
            , limit: 10
            , cols: header
        });
        table.on('toolbar(stats-sales-table)', function (obj) {
            const checkStatus = table.checkStatus(obj.config.id);
            switch (obj.event) {
                case 'search':
                    table.reload('stats-sales-table', {
                        where: {
                            cusName: $("#cusName").val()
                        },
                        page: {
                            curr: 1
                        }
                    })
                    break;
            }
        });
    });
</script>